<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core">
<h:head>
  <meta
    http-equiv="Content-Type"
    content="text/html; charset=UTF-8" />
  <title>Listagem de Empregado</title>
  <h:outputStylesheet
    library="css"
    name="styles.css" />
</h:head>
<h:body>
  <h3>Listagem de Empregados</h3>
  <h:form id="form">
    <h:dataTable
      value="#{empregadoMB.empregados}"
      var="empregado"
      styleClass="empregadoTable"
      headerClass="empregadoTableHeader"
      rowClasses="empregadoTableLinhaImpar,empregadoTableLinhaPar"
      rendered="#{not empty empregadoMB.empregados}"
      id="table">
      <h:column>
        <f:facet name="header">
          <h:outputText value="#{msg['nome']}" />
        </f:facet>
        <h:inputText
          id="nome"
          value="#{empregado.nome}"
          rendered="#{empregado.podeEditar}"
          size="10"
          label="Nome"
          required="true">
          <f:validateLength
            minimum="5"
            maximum="50" />
        </h:inputText>
        <h:message
          for="nome"
          style="color:red" />
        <h:outputText
          value="#{empregado.nome}"
          rendered="#{not empregado.podeEditar}" />
      </h:column>

      <h:column>
        <f:facet name="header">
          <h:outputText value="#{msg['departamento']}" />
        </f:facet>
        <h:inputText
          value="#{empregado.departamento}"
          rendered="#{empregado.podeEditar}"
          size="20">
          <f:validateLength
            minimum="2"
            maximum="50" />
        </h:inputText>
        <h:outputText
          value="#{empregado.departamento}"
          rendered="#{not empregado.podeEditar}" />
      </h:column>

      <h:column>
        <f:facet name="header">
          <h:outputText value="#{msg['salario']}" />
        </f:facet>
        <h:inputText
          value="#{empregado.salario}"
          rendered="#{empregado.podeEditar}"
          size="5">
          <f:validateLength
            minimum="3"
            maximum="6" />
        </h:inputText>
        <h:outputText
          value="#{empregado.salario}"
          rendered="#{not empregado.podeEditar}" />
      </h:column>

      <h:column>
        <f:facet name="header">
          <h:outputText value="#{msg['btn.editar']}" />
        </f:facet>
        <h:commandButton
          value="#{msg['btn.editar']}"
          action="#{empregadoMB.editarEmpregado}">
          <f:setPropertyActionListener
            target="#{empregadoMB.empregadoSelecionado}"
            value="#{empregado}" />
        </h:commandButton>
      </h:column>
      <h:column>
        <f:facet name="header">
          <h:outputText value="#{msg['btn.deletar']}" />
        </f:facet>
        <h:commandButton
          value="#{msg['btn.deletar']}"
          action="#{empregadoMB.deletarEmpregado}">
          <f:setPropertyActionListener
            target="#{empregadoMB.empregadoSelecionado}"
            value="#{empregado}" />
        </h:commandButton>
      </h:column>
    </h:dataTable>
    <br />
    <br />
    <h:commandButton
      value="#{msg['btn.salvar']}"
      action="#{empregadoMB.salvarEmpregados}" />
  </h:form>
</h:body>
</html>